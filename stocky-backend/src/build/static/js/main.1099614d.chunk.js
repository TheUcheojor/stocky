(this["webpackJsonpstocky-frontend"]=this["webpackJsonpstocky-frontend"]||[]).push([[0],{25:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(18),o=a.n(s),c=(a(25),a.p,a(26),a(27),a(28),a(29),a(30),a(31),a(32),a(33),a(8)),i=a(3),l="none",m=function(){var e=document.getElementById("vert-bar-mobile"),t=document.querySelector("#root");if('"header" "vert-bar-mobile" "hor-bar" "content" "footer"'==getComputedStyle(t).gridTemplateAreas){var a=!e.style.display||e.style.display==l;e.style.display=a?"flex":l}},u=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{id:"vert-bar"},r.a.createElement(c.b,{to:"/"}," Overview"),r.a.createElement(c.b,{to:"/strategy-console"},"Strategy Console"),r.a.createElement(c.b,{to:"/settings"}," Settings "),r.a.createElement(c.b,{to:"/about"}," About ")),r.a.createElement("nav",{id:"vert-bar-mobile",onClick:m},r.a.createElement(c.b,{to:"/"}," Overview"),r.a.createElement(c.b,{to:"/strategy-console"},"Strategy Console"),r.a.createElement(c.b,{to:"/settings"}," Settings "),r.a.createElement(c.b,{to:"/about"}," About ")))},p=a(2),d=a(1),E=a.n(d),f={SUCCESS:"success",FAILURE:"error"},y=function(e){var t=e.name,a=e.logoutUser,s=Object(n.useState)([]),o=Object(p.a)(s,2),c=o[0],i=o[1];return r.a.createElement("div",{id:"hor-bar"},r.a.createElement("div",{className:"search-bar-container"},r.a.createElement("input",{className:"search-bar",id:"search-query",type:"text",onKeyUp:function(){var e=document.getElementById("search-query").value;fetch("/api/search?query=".concat(encodeURIComponent(e))).then((function(e){return e.json()})).then((function(e){e.success?i(e.data):E.a.fire("Search",e.message,f.FAILURE)}))},placeholder:"Search..."}),r.a.createElement("ul",{className:"search-results"},c.map((function(e,t){return r.a.createElement("a",{className:"stock-link",key:t,href:"/stocks/".concat(e.symbol)},r.a.createElement("li",{style:{position:"relative"}},r.a.createElement("span",{className:"result-item-name"}," ",e.name),r.a.createElement("span",{className:"result-item-symbol"}," ",e.symbol)))})))),r.a.createElement("span",{className:"username"},t," "),r.a.createElement("img",{src:"data:image/png;base64,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",id:"logout",onClick:a}))},g=a(10),v=a.n(g),h=a(12),N=function(){var e=Object(h.a)(v.a.mark((function e(t,a){var n,r,s,o,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.setEquity,r=a.setBuyingPower,s=a.setDailyEarning,o=a.setSecretKey,c=a.setApiKey,e.next=3,fetch("/users/account?email=".concat(encodeURIComponent(t)),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.success?(console.log("GET /users/account - Success"),n(parseFloat(e.data.equity)),r(parseFloat(e.data.buying_power)),s(parseFloat(e.data.equity)-parseFloat(e.data.last_equity)),o(e.data.alpaca.secretKey),c(e.data.alpaca.apiKey)):(n(0),r(0),s(0))}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),w=function(e){if(!e)return 0;var t=parseFloat(e).toFixed(2),a=t.split(".")[1]?t.split(".")[1]:"",n=t.split(".")[0],r="";n.includes("-")&&(r="-",n=n.split("-")[1]);for(var s="",o=0;o<n.length;o++)s+=(o+1)%3===0?n[o]+", ":n[o];return"$"+(r+(s=","===s[s.length-2]?s.substring(0,s.length-2):s))+"."+a},b=function(e){var t=e.equity,a=e.buyingPower;return r.a.createElement("div",{className:"container account-details"},r.a.createElement("span",{className:"container-title"},"Account Balance"),r.a.createElement("div",{className:"container-subtitles equity"},t,"   ",r.a.createElement("span",{style:{fontSize:"10px"}},"EQUITY")," "),r.a.createElement("div",{className:"container-subtitles buying_power"},a,"  ",r.a.createElement("span",{style:{fontSize:"10px"}},"BUYING POWER")," "))},S=function(e){var t=e.dailyEarning;return r.a.createElement("div",{className:"container daily-profit"},r.a.createElement("div",{className:"container-subtitles daily-profit"},t," ",r.a.createElement("div",{style:{fontSize:"12px"}},"DAILY PROFIT")))},A=a(20),k=a.n(A),C=function(e){var t=e.canvasId,a=e.xValues,n=e.yValues,r=e.timeScale,s=document.getElementById(t);new k.a(s,{type:"line",data:{labels:a.map((function(e,t){return new Date(1e3*e).toLocaleString()})),datasets:[{fill:!0,data:n,backgroundColor:"rgba(0,0,0,0.2)",borderColor:"rgba(0,0,0,1)"}]},options:{maintainAspectRatio:!1,responsive:!0,legend:{display:!1},scales:{yAxes:[{ticks:{callback:function(e,t,a){return e.toLocaleString("en-US",{style:"currency",currency:"USD"})}}}],xAxes:[{type:"time",distribution:"linear",time:{unit:r}}]},elements:{point:{radius:0}}}})},I=function(e,t,a,n){fetch("/api/portfolio-history?email=".concat(encodeURIComponent(a),"&period=").concat(e)).then((function(e){return e.json()})).then((function(e){e.success?(document.getElementsByClassName("empty-results live-overview-empty")[0].classList.add("hide"),C({canvasId:t,xValues:e.data.timestamp,yValues:e.data.equity,timeScale:n})):document.getElementsByClassName("empty-results live-overview-empty")[0].classList.remove("hide")})).catch((function(e){console.log("/api/portfolio-history - Failure"+e),document.getElementsByClassName("empty-results live-overview-empty")[0].classList.remove("hide")}))},j=function(e){var t=e.email,a=e.equity,s=function(e,t){document.getElementsByClassName("overview-options")[0].querySelectorAll(":scope > div.overview-option").forEach((function(e){e.classList.remove("selected"),document.getElementById(e.getAttribute("target-id")).classList.add("hide")}));var a=document.getElementsByClassName("overview-option ".concat(e))[0];a.classList.add("selected"),document.getElementById(a.getAttribute("target-id")).classList.remove("hide")};return Object(n.useEffect)((function(){I("1D","overview-day-graph",t,"hour"),I("1W","overview-week-graph",t,"day"),I("1A","overview-year-graph",t,"month")}),[a]),r.a.createElement("div",{className:"container live-overview"},r.a.createElement("span",{className:"container-title"},"Live Overview"),r.a.createElement("div",{className:"overview-options"},r.a.createElement("div",{"target-id":"overview-day-graph",className:"overview-option day-overview selected",onClick:function(){return s("day-overview")}},"Day"),r.a.createElement("div",{"target-id":"overview-week-graph",className:"overview-option week-overview",onClick:function(){return s("week-overview")}},"Week"),r.a.createElement("div",{"target-id":"overview-year-graph",className:"overview-option year-overview",onClick:function(){return s("year-overview")}},"Yearly")),r.a.createElement("div",{className:"overview-graphs"},r.a.createElement("canvas",{className:"overview-graph",id:"overview-day-graph"}," "),r.a.createElement("canvas",{className:"overview-graph hide",id:"overview-week-graph"}," "),r.a.createElement("canvas",{className:"overview-graph hide",id:"overview-year-graph"}," ")),r.a.createElement("div",{className:"empty-results live-overview-empty hide"},"No Graphs To Display"))},O=function(){var e=Object(h.a)(v.a.mark((function e(t){var a,n,r,s,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.email,n=t.apiKey,r=t.secretKey,s=t.setApiKey,o=t.setSecretKey,fetch("/settings/set-alpaca",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:a,apiKey:n,secretKey:r})}).then((function(e){return e.json()})).then((function(e){e.success?(E.a.fire("Aplaca Settings","Your Aplaca keys have been saved",f.SUCCESS),console.log("GET /users/account - Success } "),s(n),o(r)):(E.a.fire("Aplaca Settings",e.message,f.FAILURE),console.log("GET /users/account - Failure "))})).catch((function(e){E.a.fire("Aplaca Settings","Cannot connect to server",f.FAILURE)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e){var t=e.email,a=e.apiKey,s=e.secretKey,o=e.setApiKey,c=e.setSecretKey;return Object(n.useEffect)((function(){""==a||""==s?(document.getElementsByClassName("alpaca-form")[0].classList.add("glow"),document.getElementsByClassName("alpaca-form")[0].title="Please enter your Alpaca keys."):(document.getElementsByClassName("alpaca-form")[0].classList.remove("glow"),document.getElementsByClassName("alpaca-form")[0].title="")}),[a,s]),r.a.createElement("div",{className:"container alpaca-form api-info"},r.a.createElement("span",{className:"container-title"},"Alpaca API Info"),r.a.createElement("div",{style:{paddingTop:"5px"}},r.a.createElement("span",{className:"aplaca-info-title"},"Secret Key"),r.a.createElement("input",{type:"text",className:"aplaca-info",id:"secretKey",placeholder:s}),r.a.createElement("span",{className:"aplaca-info-title"},"Api Key"),r.a.createElement("input",{type:"text",className:"aplaca-info",id:"apiKey",placeholder:a}),r.a.createElement("button",{id:"saveApiSettings",onClick:function(){return O({email:t,apiKey:document.getElementById("apiKey").value?document.getElementById("apiKey").value:a,secretKey:document.getElementById("secretKey").value?document.getElementById("secretKey").value:s,setApiKey:o,setSecretKey:c})}},"Save")))},R=function(e){var t=e.email,a=e.equity,s=Object(n.useState)([]),o=Object(p.a)(s,2),c=o[0],i=o[1];return Object(n.useEffect)((function(){var e=document.getElementsByClassName("empty-results order-history-empty")[0];fetch("/api/get-order-history?email=".concat(encodeURIComponent(t))).then((function(e){return e.json()})).then((function(t){t.success?(i(t.data),t.data?e.classList.add("hide"):e.classList.remove("hide")):document.getElementsByClassName("order-history-item").length<1&&e.classList.remove("hide")})).catch((function(t){console.log("error :".concat(t)),e.classList.remove("hide")}))}),[a]),r.a.createElement("div",{className:"container order-history"},r.a.createElement("span",{className:"container-title"},"Order History"),r.a.createElement("div",{className:"table-container"},r.a.createElement("table",{id:"order-history-table",style:{height:"20px"}},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Stock"),r.a.createElement("th",null,"Order"),r.a.createElement("th",null,"Shares"),r.a.createElement("th",null,"Price Per Place"),r.a.createElement("th",null,"Status")),c.map((function(e,t){return r.a.createElement("tr",{key:t,className:"order-history-item"},r.a.createElement("td",null,e.symbol),r.a.createElement("td",null,e.order_type.replace(/^\w/,(function(e){return e.toUpperCase()}))," ",e.type.toUpperCase(),r.a.createElement("br",null),r.a.createElement("span",{style:{fontSize:"10px"}},e.transaction_time.split("T")[0]," - ",e.transaction_time.split("T")[1])),r.a.createElement("td",null,e.quantity),r.a.createElement("td",null,"$",e.price),r.a.createElement("td",null,e.status.replace(/^\w/,(function(e){return e.toUpperCase()}))))})))),r.a.createElement("div",{className:"empty-results order-history-empty hide"},"No Order History To Display")))},Y=function(e){var t=e.email,a=document.getElementById("operation-options").value,n=document.getElementById("order-type-options").value,r=document.getElementById("symbol-options").value,s=document.getElementById("time-in-force-options").value,o=document.getElementById("order-quantity").value?document.getElementById("order-quantity").value:1;console.log(a,n,r,s,o);var c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,symbol:r,qty:o,side:a,type:n,timeInForce:s})};fetch("/api/create-order",c).then((function(e){return e.json()})).then((function(e){e.success?(console.log("Your ".concat(r," order has been created.")),E.a.fire("Order Creation","Your ".concat(r," order has been created."),f.SUCCESS)):(E.a.fire("Order Creation",e.message,f.FAILURE),console.log("Your order has not been created: ".concat(e.message)))})).catch((function(e){E.a.fire("Order Creation","Cannot create your order",f.FAILURE),console.log("error creating orders: "+e)}))},U=function(e){var t=e.email,a=Object(n.useState)([]),s=Object(p.a)(a,2),o=s[0],c=s[1];return Object(n.useEffect)((function(){fetch("/api/all-stock-profiles").then((function(e){return e.json()})).then((function(e){var t=[];e.success?(console.log(" /api/all-stock-profiles - Success"),e.data.forEach((function(e){t.push(e.symbol)})),c(t)):console.log(" /api/all-stock-profiles - Error - ".concat(e.message))})).catch((function(e){console.log(" /api/all-stock-profiles - Error ".concat(e))}))}),[]),r.a.createElement("div",{className:"container manual-order"},r.a.createElement("div",{className:"container-title"},"Manual Order "),r.a.createElement("div",{className:"operation"},r.a.createElement("div",{className:"info-title"},"Operation"),r.a.createElement("select",{id:"operation-options",className:"options"},r.a.createElement("option",{value:"buy"},"Buy"),r.a.createElement("option",{value:"sell"},"Sell"))),r.a.createElement("div",{className:"order-type"},r.a.createElement("div",{className:"info-title"},"Order Type"),r.a.createElement("select",{id:"order-type-options",className:"options"},r.a.createElement("option",{value:"market"},"Market"),r.a.createElement("option",{value:"limit"},"Limit"),r.a.createElement("option",{value:"stop"},"Stop"),r.a.createElement("option",{value:"stop_limit"},"Stop Limit"),r.a.createElement("option",{value:"trailing_stop"},"Trailing Stop"))),r.a.createElement("div",{className:"stock-symbols"},r.a.createElement("div",{className:"info-title"}," Symbol"),r.a.createElement("select",{id:"symbol-options",className:"options symbol-options"},o.map((function(e,t){return r.a.createElement("option",{key:t,vaulue:e.toLowerCase()},e)})))),r.a.createElement("div",{className:"time-in-force"},r.a.createElement("div",{className:"info-title"}," Time In Force"),r.a.createElement("select",{id:"time-in-force-options",className:"options "},r.a.createElement("option",{value:"day"},"Day"),r.a.createElement("option",{value:"gtc"},"GTC"),r.a.createElement("option",{value:"opg"},"OPG"),r.a.createElement("option",{value:"ioc"},"IOC"))),r.a.createElement("div",{className:"quantity"},r.a.createElement("div",{className:"info-title"}," Quantity"),r.a.createElement("input",{id:"order-quantity",className:" options",placeholder:"1",min:"1",type:"number"})),r.a.createElement("div",{className:"create-order"},r.a.createElement("button",{id:"create-order-button",type:"number",onClick:function(){return Y({email:t})}},"Create Order")))},M=function(e){var t=e.email,a=Object(n.useState)(0),s=Object(p.a)(a,2),o=s[0],c=s[1],i=Object(n.useState)(0),l=Object(p.a)(i,2),m=l[0],u=l[1],d=Object(n.useState)(0),E=Object(p.a)(d,2),f=E[0],y=E[1],g=Object(n.useState)(""),v=Object(p.a)(g,2),h=v[0],A=v[1],k=Object(n.useState)(""),C=Object(p.a)(k,2),I=C[0],O=C[1];return console.log("Rendered"),Object(n.useEffect)((function(){console.log("CHANGE"),N(t,{setEquity:c,setBuyingPower:u,setDailyEarning:y,setSecretKey:A,setApiKey:O});var e=setInterval((function(){N(t,{setEquity:c,setBuyingPower:u,setDailyEarning:y,setSecretKey:A,setApiKey:O})}),3e4);return function(){return clearInterval(e)}}),[]),r.a.createElement("div",{className:"content overview"},r.a.createElement(b,{equity:w(o),buyingPower:w(m)}),r.a.createElement(S,{dailyEarning:w(f)}),r.a.createElement(j,{email:t,equity:o}),r.a.createElement(B,{email:t,secretKey:h,apiKey:I,setApiKey:O,setSecretKey:A}),r.a.createElement(R,{email:t,equity:o}),r.a.createElement(U,{email:t}))},K=function(){return r.a.createElement("div",{className:"content about-page"},r.a.createElement("div",{className:"container",style:{textAlign:"left"}},r.a.createElement("h1",null,"Stocky"),r.a.createElement("p",{style:{marginTop:"10px"}},"Stocky is a simple automated stock-trading platform."),r.a.createElement("p",{style:{marginTop:"10px"}},"Stocky offers various trading strategies that can be implemented on paper trading accounts. At this moment, Stocky supports Long/Short and Mean Reversion strategies."),r.a.createElement("p",{style:{marginTop:"20px"}},"For more information, please visit the ",r.a.createElement("a",{target:"_blank",href:"https://github.com/TheUcheojor/stocky"},"Stocky Repository ")),r.a.createElement("p",{style:{marginTop:"20px"}},"To get your Alpaca key, visit the ",r.a.createElement("a",{target:"_blank",href:"https://alpaca.markets/"},"Alpaca Website "))))},G=function(e){var t=e.match,a=e.email,s=t.params.symbol,o=Object(n.useState)({}),c=Object(p.a)(o,2),i=c[0],l=c[1];return Object(n.useEffect)((function(){fetch("/api/stocks?name=".concat(encodeURIComponent(s))).then((function(e){return e.json()})).then((function(e){e.success?l(e.data):E.a.fire("Stock Profile",e.message,f.SUCCESS)})).catch((function(e){E.a.fire("Stock Profile",e,f.FAILURE)}))}),[]),r.a.createElement("div",{className:"content stock"},r.a.createElement("div",{className:"container stock-profile"},r.a.createElement("div",{className:"subcontainer symbol"},r.a.createElement("b",null,i.symbol)," Profile",r.a.createElement("br",null),r.a.createElement("span",{style:{fontSize:"15px"}},i.name)),r.a.createElement("div",{className:"subcontainer section"},r.a.createElement("span",{className:"property"},"Section:"),r.a.createElement("span",{className:"value"}," ",i.section)),r.a.createElement("div",{className:"subcontainer industry"},r.a.createElement("span",{className:"property"},"Industry:"),r.a.createElement("span",{className:"value"}," ",i.industry)),r.a.createElement("div",{className:"subcontainer employees"},r.a.createElement("span",{className:"property"},"Employees:"),r.a.createElement("span",{className:"value"}," ",i.employees)),r.a.createElement("div",{className:"subcontainer desc"},r.a.createElement("span",{className:"property"},"Description:"),r.a.createElement("span",{className:"value"}," ",i.desc)),r.a.createElement("button",{id:"add-stock-to-strategy",onClick:function(){return function(e,t){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,stockSymbol:t})};fetch("/settings/add-stock",a).then((function(e){return e.json()})).then((function(e){e.success?E.a.fire("Stock Collection","Added ".concat(t.toUpperCase()," to your stock collection"),f.SUCCESS):E.a.fire("Stock Collection",e.message,f.FAILURE)}))}(a,s)}},"Add ",r.a.createElement("b",null,i.symbol)," To Your Stock Collection")))},D=function(){return r.a.createElement("div",{id:"content not-found-page"},r.a.createElement("h1",null," 404 - Page Not Found"))},P=function(e){var t=document.getElementById("current-password").value,a=document.getElementById("new-password").value;if(a===document.getElementById("new-password-confirm").value){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,oldPassword:t,newPassword:a})};fetch("/settings/set-password",n).then((function(e){return e.json()})).then((function(e){e.success?E.a.fire("Password Settings","Your password has been updated",f.SUCCESS):E.a.fire("Password Settings",e.message,f.FAILURE)})).catch((function(e){E.a.fire("Password Settings","Cannout change your password".notificationRefeference.FAILURE)}))}else E.a.fire("Password Setting","You new password does not match",f.FAILURE)},T=function(e){var t=e.email;return r.a.createElement("div",{className:"container settings-item change-password"},r.a.createElement("div",{className:"container-title"},"Change Your Password"),r.a.createElement("span",{className:"setting-container-item"},"Your Current Password"),r.a.createElement("input",{type:"password",className:"setting-container-item-input",id:"current-password"}),r.a.createElement("span",{className:"setting-container-item"},"Your New Pasword"),r.a.createElement("input",{type:"password",className:"setting-container-item-input",id:"new-password"}),r.a.createElement("span",{className:"setting-container-item"},"Confirm Your New Pasword"),r.a.createElement("input",{type:"password",className:"setting-container-item-input",id:"new-password-confirm"}),r.a.createElement("button",{id:"settings-save-button",onClick:function(){return P(t)}},"Save Password"))},F=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,strategy:document.getElementById("select-strategy").value,stocks:Array.from(document.getElementById("select-stock-collection").querySelectorAll(":scope option:checked ")).map((function(e){return e.value}))})};fetch("/settings/set-strategy",t).then((function(e){return e.json()})).then((function(e){e.success?E.a.fire("Trading Strategy","Your strategy has been saved",f.SUCCESS):E.a.fire("Trading Strategy",e.message,f.FAILURE)})).catch((function(e){E.a.fire("Trading Strategy","Cannot save strategy settings",f.FAILURE)}))},x=function(e){var t=e.email,a=Object(n.useState)([]),s=Object(p.a)(a,2),o=s[0],c=s[1],i=Object(n.useState)([]),l=Object(p.a)(i,2),m=l[0],u=l[1];return Object(n.useEffect)((function(){var e=["/api/all-stock-profiles?email=".concat(t),"/settings/get-strategies?email=".concat(t)];Promise.all(e.map((function(e){return fetch(e).then((function(e){return e.json()}))}))).then((function(e){var t=e[0];t.success?c(t.data):E.a.fire("Stock Profiles",t.message,f.FAILURE);var a=e[1];a.success?u(a.data):E.a.fire("Stock Strategy",t.message,f.FAILURE)})).catch((function(e){E.a.fire("Stock Strategy","Cannot fetch strategy data",f.FAILURE)}))}),[]),r.a.createElement("div",{className:"container settings-item set-strategy"},r.a.createElement("div",{className:"container-title"},"Strategy Options"),r.a.createElement("span",{className:"setting-container-item"},"Select Your Strategy"),r.a.createElement("select",{type:"text",className:"setting-container-item-select",id:"select-strategy"},m.map((function(e,t){return r.a.createElement("option",{key:t,value:e.strategyKey,selected:e.isSetStrategy?"selected":""},e.strategyName)}))),r.a.createElement("span",{className:"setting-container-item"}," Select Stocks To Trade"),r.a.createElement("select",{type:"text",className:"setting-container-item-select",id:"select-stock-collection",multiple:"multiple"},o.map((function(e,t){return r.a.createElement("option",{key:t,value:e.symbol,selected:e.isInStockCollection?"selected":""}," ",e.symbol," - ",e.name)}))),r.a.createElement("button",{id:"settings-save-button",onClick:function(){return F(t)}},"Save Trading Strategy"))},L=function(e){var t=e.email;return r.a.createElement("div",{className:"content settings"},r.a.createElement(T,{email:t}),r.a.createElement(x,{email:t}))},q=function(e){var t=e.email,a=Object(n.useState)([]),s=Object(p.a)(a,2),o=s[0],c=s[1];return Object(n.useEffect)((function(){var e=document.getElementsByClassName("empty-results strategy-console-empty")[0];fetch("/api/get-logs?email=".concat(t)).then((function(e){return e.json()})).then((function(t){t.success?(c(t.data.reverse()),t.data.length>0?e.classList.add("hide"):e.classList.remove("hide")):(E.a.fire("Logs",t.message,f.FAILURE),e.classList.remove("hide"))})).catch((function(t){E.a.fire("Logs","Server Error. Cannot access logs",f.FAILURE),e.classList.remove("hide"),console.log(t)}))}),[]),r.a.createElement("div",{className:"content strategy-console"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container-title"},"Console"),o.map((function(e,t){return r.a.createElement("span",{key:t,className:"strategy-log"},r.a.createElement("b",null,e.split("^^^")[0])," ",e.split("^^^")[1])})),r.a.createElement("div",{className:"empty-results strategy-console-empty hide"},"No Logs To Display")))},Q=function(e){var t=!1;return e.forEach((function(e){e.current.value.trim()?e.current.classList.remove("error"):(e.current.classList.add("error"),t=!0)})),t},W=function(e){var t=e.e,a=e.emailRef,n=e.passwordRef,r=e.setUser,s=e.setError;if(t.preventDefault(),!Q([a,n])){var o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.current.value.toLowerCase().trim(),password:n.current.value})};fetch("/users/login",o).then((function(e){return e.json()})).then((function(e){e.success?(s(""),r(e.data)):s(e.message)})).catch((function(e){s("".concat(e))}))}},Z=function(e){var t=e.setUser,a=e.setError,s=Object(n.useRef)(""),o=Object(n.useRef)("");return Object(n.useEffect)((function(){s.current.focus()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("span",{className:"form-group-name"},"Email"),r.a.createElement("input",{ref:s,className:"form-group-item",placeholder:"Enter Your Email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("span",{className:"form-group-name"},"Password"),r.a.createElement("input",{type:"password",ref:o,className:"form-group-item",placeholder:"Enter Your Password"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"action-button",onClick:function(e){return W({e:e,setUser:t,emailRef:s,passwordRef:o,setError:a})}},"Login")))},z=25,J=3,H=function(e){var t=e.e,a=e.emailRef,n=e.nameRef,r=e.passwordRef,s=e.confirmPasswordRef,o=e.setUser,c=e.setError;if(t.preventDefault(),!Q([a,n,r,s]))if(r.current.value===s.current.value)if(n.current.value.trim().length>z||n.current.value.trim().length<J)c("Name must between 3 to 20 characters");else if(i=a.current.value,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(i).toLowerCase())){var i,l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n.current.value.toLowerCase().trim(),email:a.current.value.toLowerCase().trim(),password:r.current.value})};fetch("/users/register",l).then((function(e){return e.json()})).then((function(e){e.success?(c(""),o(e.data)):c(e.message)})).catch((function(e){c("".concat(e))}))}else c("Enter a valid email");else c("Passwords do not match")},V=function(e){var t=e.setUser,a=e.setError,s=Object(n.useRef)(""),o=Object(n.useRef)(""),c=Object(n.useRef)(""),i=Object(n.useRef)("");return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("span",{className:"form-group-name"},"Name"),r.a.createElement("input",{ref:s,className:"form-group-item",placeholder:"Enter Your Name"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("span",{className:"form-group-name"},"Email"),r.a.createElement("input",{ref:o,className:"form-group-item",placeholder:"Enter Your Email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("span",{className:"form-group-name"},"Password"),r.a.createElement("input",{type:"password",ref:c,className:"form-group-item",placeholder:"Enter Your Password"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("span",{className:"form-group-name"},"Confirm Your Password"),r.a.createElement("input",{type:"password",ref:i,className:"form-group-item",placeholder:"Re-enter Your Password"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"action-button",onClick:function(e){H({e:e,nameRef:s,setError:a,emailRef:o,passwordRef:c,setUser:t,confirmPasswordRef:i})}},"Register")))},X="login",_="register",$=function(e){var t=e.setUser,a=Object(n.useState)(),s=Object(p.a)(a,2),o=s[0],c=s[1],i=Object(n.useState)(!0),l=Object(p.a)(i,2),m=l[0],u=l[1],d=function(e){u(e==X),document.querySelectorAll(".container-options .option").forEach((function(e){return e.classList.remove("highlight")})),document.getElementById(e).classList.add("highlight")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"project-title"},"STOCKY"),r.a.createElement("div",{className:"login-register-container"},r.a.createElement("div",{className:"container-options"},r.a.createElement("span",{id:X,className:"option highlight",onClick:function(){d(X)}},"Login"),r.a.createElement("span",{id:_,className:"option",onClick:function(){d(_)}},"Register")),r.a.createElement("form",null,o?r.a.createElement("div",{className:"form-group error"},o):"",m?r.a.createElement(Z,{setUser:t,setError:c}):r.a.createElement(V,{setUser:t,setError:c}))))},ee=function(){var e=function(){var e=sessionStorage.getItem("user");return JSON.parse(e)},t=Object(n.useState)(e()),a=Object(p.a)(t,2),r=a[0],s=a[1];return{user:r,setUser:function(t){t.name=t.name.trim().replace(/\b\w/g,(function(e){return e.toUpperCase()}));var a=JSON.stringify(t);sessionStorage.setItem("user",a),s(e())},logoutUser:function(){sessionStorage.removeItem("user"),s(null)}}};var te=function(){var e=ee(),t=e.user,a=e.setUser,n=e.logoutUser;return t?r.a.createElement(c.a,null,r.a.createElement("div",{id:"header",onClick:m}," Stocky "),r.a.createElement(u,null),r.a.createElement(y,{name:t.name,logoutUser:n}),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",component:function(){return r.a.createElement(M,{email:t.email})},exact:!0}),r.a.createElement(i.a,{path:"/about",component:K}),r.a.createElement(i.a,{path:"/settings",component:function(){return r.a.createElement(L,{email:t.email})}}),r.a.createElement(i.a,{path:"/strategy-console",component:function(){return r.a.createElement(q,{email:t.email})}}),r.a.createElement(i.a,{path:"/stocks/:symbol",component:function(e){var a=e.match;return r.a.createElement(G,{match:a,email:t.email})}}),r.a.createElement(i.a,{component:D})),r.a.createElement("div",{id:"footer"},"Paul Okenne - paulokenne@cmail.carleton.ca")):r.a.createElement($,{setUser:a})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.1099614d.chunk.js.map